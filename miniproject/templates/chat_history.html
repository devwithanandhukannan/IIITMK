<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Hangout â€“ Daily History</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-black text-white antialiased">
  <main class="min-h-screen flex flex-col">
    <!-- Top bar -->
    <div class="px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between border-b border-white/10">
      <div class="flex items-center gap-3">
        <a
        href="./dashboard.html"
          class="h-8 w-8 flex items-center justify-center rounded-full border border-white/30 text-sm hover:bg-white hover:text-black transition">
          &larr;
      </a>
        <h1 class="text-lg sm:text-xl font-semibold">History</h1>
      </div>
      <button
        class="h-8 w-8 flex items-center justify-center rounded-full border border-white/30 text-xs hover:bg-white hover:text-black transition"
        aria-label="Search">
       
      </button>
    </div>

    <!-- MAIN LAYOUT -->
    <div class="flex-1 px-2 sm:px-4 lg:px-6 py-4 flex gap-3 sm:gap-4">
      <!-- LEFT: day list (like dashboard tab) -->
      <aside
        class="w-60 sm:w-64 flex flex-col bg-white/5 border border-white/10 rounded-2xl backdrop-blur-xl shadow-[0_0_40px_rgba(0,0,0,0.8)]">
        <div class="p-3 border-b border-white/10">
          <div class="text-xs font-semibold mb-2 text-gray-100">
            Days
          </div>
          <div class="flex items-center gap-2 rounded-xl bg-black/60 border border-white/15 px-2.5 py-1.5">
            <input id="daySearch" type="text" placeholder="Search day or tag"
              class="bg-transparent border-none outline-none text-xs w-full placeholder:text-gray-500" />
          </div>
        </div>

        <div id="dayList" class="flex-1 overflow-y-auto px-2 py-2 space-y-1 text-sm">
          <!-- filled by JS -->
        </div>
      </aside>

      <!-- RIGHT: selected day's timeline -->
      <section
        class="flex-1 flex flex-col bg-white/5 border border-white/10 rounded-2xl backdrop-blur-xl shadow-[0_0_40px_rgba(0,0,0,0.8)] px-4 sm:px-6 py-4">
        <!-- date + chips -->
        <div class="mb-4">
          <div id="dayTitle" class="text-sm sm:text-base font-semibold">
            Select a day
          </div>
          <div id="dayMeta" class="text-[11px] sm:text-xs text-gray-400 mt-1 mb-3">
            â€”
          </div>
          <div id="interestChips" class="flex flex-wrap gap-2 text-[11px]">
            <!-- chips -->
          </div>
        </div>

        <!-- timeline -->
        <section class="relative mt-4 flex-1 overflow-y-auto">
          <!-- vertical line -->
          <div class="absolute left-3 sm:left-4 top-0 bottom-0 w-px bg-white/15 pointer-events-none"></div>

          <div id="timeline" class="pl-8 sm:pl-10 space-y-10 text-sm">
            <p class="text-xs text-gray-400">
              Choose a day on the left to view that day's conversations.
            </p>
          </div>
        </section>
      </section>
    </div>
  </main>

  <script>
    // Example multi-day history
    const historyByDay = [
      {
        id: "today",
        label: "Today",
        dateLabel: "Today Â· Daily chat history",
        interests: ["#coding", "#fact"],
        summary: "Chats about coding & random facts.",
        conversations: [
          {
            user: "SkylerNova",
            avatarInitial: "S",
            messages: [
              {
                from: "them",
                text: "Hey! Just checking in. Did you finish the design mockups? No rush â€” just curious ðŸ™‚",
                time: "10:00",
              },
              {
                from: "me",
                text: "Almost done! Iâ€™ll send them over in a bit.",
                time: "10:02",
              },
            ],
          },
          {
            user: "LunaTrace",
            avatarInitial: "L",
            messages: [
              {
                from: "them",
                text: "Hey! Saw you like hiking too. Got any favorite spots?",
                time: "11:00",
              },
              {
                from: "me",
                text: "Yep! Thereâ€™s a trail near the river I go to all the time. I can tell you more if you want!",
                time: "11:02",
              },
            ],
          },
        ],
      },
      {
        id: "yesterday",
        label: "Yesterday",
        dateLabel: "Yesterday Â· Daily chat history",
        interests: ["#music"],
        summary: "Late-night music recommendations.",
        conversations: [
          {
            user: "NightWave",
            avatarInitial: "N",
            messages: [
              {
                from: "them",
                text: "Got any favorite albums for focus?",
                time: "23:10",
              },
              {
                from: "me",
                text: "Mostly instrumental stuff. I can send you a playlist.",
                time: "23:12",
              },
            ],
          },
        ],
      },
    ];

    document.addEventListener("DOMContentLoaded", () => {
      const dayList = document.getElementById("dayList");
      const daySearch = document.getElementById("daySearch");
      const dayTitle = document.getElementById("dayTitle");
      const dayMeta = document.getElementById("dayMeta");
      const interestChips = document.getElementById("interestChips");
      const timeline = document.getElementById("timeline");

      let currentDayId = null;

      function renderDayList(filter = "") {
        dayList.innerHTML = "";
        const lower = filter.toLowerCase();

        historyByDay
          .filter(
            (d) =>
              d.label.toLowerCase().includes(lower) ||
              d.summary.toLowerCase().includes(lower) ||
              d.interests.some((t) => t.toLowerCase().includes(lower))
          )
          .forEach((day) => {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.dataset.id = day.id;
            btn.className =
              "w-full text-left rounded-xl px-2.5 py-2 hover:bg-white/10 transition-colors";

            if (day.id === currentDayId) {
              btn.classList.add("bg-white/10");
            }

            const top = document.createElement("div");
            top.className = "flex items-center justify-between mb-0.5";

            const label = document.createElement("div");
            label.className = "text-xs font-semibold";
            label.textContent = day.label;

            const tagCount = document.createElement("div");
            tagCount.className = "text-[10px] text-gray-400";
            tagCount.textContent = `${day.interests.length} tags`;

            top.appendChild(label);
            top.appendChild(tagCount);

            const bottom = document.createElement("div");
            bottom.className = "text-[11px] text-gray-300 truncate";
            bottom.textContent = day.summary;

            btn.appendChild(top);
            btn.appendChild(bottom);

            dayList.appendChild(btn);
          });

        if (!dayList.children.length) {
          const empty = document.createElement("div");
          empty.className =
            "text-[11px] text-gray-400 px-2 py-4 text-center";
          empty.textContent = "No days match your search.";
          dayList.appendChild(empty);
        }
      }

      function renderDay(dayId) {
        const day = historyByDay.find((d) => d.id === dayId);
        if (!day) return;

        currentDayId = dayId;
        renderDayList(daySearch.value);

        // header text
        dayTitle.textContent = day.label;
        dayMeta.textContent = day.dateLabel;

        // chips
        interestChips.innerHTML = "";
        day.interests.forEach((tag) => {
          const chip = document.createElement("span");
          chip.className =
            "px-3 py-1 rounded-full bg-white text-black text-[11px]";
          chip.textContent = tag;
          interestChips.appendChild(chip);
        });

        // timeline
        timeline.innerHTML = "";

        day.conversations.forEach((conv) => {
          const wrapper = document.createElement("div");
          wrapper.className = "relative";

          // avatar
          const avatar = document.createElement("div");
          avatar.className =
            "absolute -left-8 sm:-left-9 top-0 h-9 w-9 rounded-full bg-white text-black flex items-center justify-center text-xs font-semibold";
          avatar.textContent = conv.avatarInitial || "?";
          wrapper.appendChild(avatar);

          // content block
          const block = document.createElement("div");
          block.className = "pl-2 sm:pl-3";

          // user name
          const name = document.createElement("div");
          name.className = "text-xs sm:text-sm font-semibold mb-2";
          name.textContent = conv.user;
          block.appendChild(name);

          // messages for this user
          conv.messages.forEach((msg) => {
            const bubbleRow = document.createElement("div");
            bubbleRow.className = "mt-1";

            const bubble = document.createElement("div");
            bubble.className =
              "inline-block max-w-[520px] rounded-2xl px-4 py-2 text-xs sm:text-sm leading-relaxed";

            if (msg.from === "me") {
              bubble.classList.add("bg-white", "text-black");
            } else {
              bubble.classList.add(
                "bg-black",
                "text-white",
                "border",
                "border-white/10"
              );
            }

            bubble.textContent = msg.text;
            bubbleRow.appendChild(bubble);
            block.appendChild(bubbleRow);

            const timeRow = document.createElement("div");
            timeRow.className =
              "mt-1 text-[10px] text-gray-500 " +
              (msg.from === "me" ? "text-right pr-2" : "pl-1");
            timeRow.textContent = msg.time;
            block.appendChild(timeRow);
          });

          wrapper.appendChild(block);
          timeline.appendChild(wrapper);
        });
      }

      // events
      dayList.addEventListener("click", (e) => {
        const btn = e.target.closest("button[data-id]");
        if (!btn) return;
        renderDay(btn.dataset.id);
      });

      daySearch.addEventListener("input", (e) =>
        renderDayList(e.target.value)
      );

      // initial render
      renderDayList();
      if (historyByDay.length) {
        renderDay(historyByDay[0].id);
      }
    });
  </script>
</body>

</html>